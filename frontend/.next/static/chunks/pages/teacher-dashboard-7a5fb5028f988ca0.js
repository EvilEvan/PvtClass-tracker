(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{6056:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teacher-dashboard",function(){return r(3592)}])},3592:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return f}});var t=r(4246),a=r(1147),o=r.n(a),i=r(8038),n=r.n(i),d=r(9894),c=r.n(d),l=r(7378);function f(){let[e,s]=(0,l.useState)([]),[r,a]=(0,l.useState)([]),[i,d]=(0,l.useState)(!0),[f]=(0,l.useState)("teacher-1"),[x,m]=(0,l.useState)(null),[p,h]=(0,l.useState)({});(0,l.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("http://localhost:8000/sessions/teacher/".concat(f)),r=await e.json();s(Array.isArray(r)?r:[]);let t=await fetch("http://localhost:8000/sessions/pending-confirmation?teacherId=".concat(f)),o=await t.json();a(Array.isArray(o)?o:[]),d(!1)}catch(e){console.error("Error fetching sessions:",e),s([]),a([]),d(!1)}},u=async e=>{m(e);try{(await fetch("http://localhost:8000/sessions/".concat(e,"/confirm"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:f,notes:p[e]||void 0})})).ok?(await g(),h(s=>({...s,[e]:""}))):console.error("Failed to confirm session")}catch(e){console.error("Error confirming session:",e)}finally{m(null)}},j=(e,s)=>{h(r=>({...r,[e]:s}))},b=(e,s)=>{if(s)return"#00ff88";switch(e){case"SCHEDULED":return"#00d4ff";case"COMPLETED":return"#00ff88";case"CANCELLED":return"#ff4444";default:return"#888"}},y=(e,s)=>{if(s)return"✅";switch(e){case"SCHEDULED":return"\uD83D\uDCC5";case"COMPLETED":return"✅";case"CANCELLED":return"❌";default:return"❓"}};return i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsx)("title",{children:"Teacher Dashboard - Private Class Tracker"})}),(0,t.jsx)("main",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"linear-gradient(135deg, #0a0e1a 0%, #1a2332 50%, #2a3441 100%)",color:"#e0e6ed"},children:(0,t.jsxs)("div",{style:{textAlign:"center"},children:[(0,t.jsx)("div",{style:{width:"60px",height:"60px",border:"3px solid #00d4ff",borderTop:"3px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),(0,t.jsx)("p",{children:"Loading Teacher Dashboard..."})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsx)("title",{className:"jsx-ff161281ed666c63",children:"Teacher Dashboard - Private Class Tracker"})}),(0,t.jsxs)("main",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e1a 0%, #1a2332 50%, #2a3441 100%)",color:"#e0e6ed",fontFamily:"system-ui, -apple-system, sans-serif"},className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("header",{style:{borderBottom:"1px solid #00d4ff",backgroundColor:"rgba(0, 0, 0, 0.3)",padding:"20px 0"},className:"jsx-ff161281ed666c63",children:(0,t.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 20px",display:"flex",alignItems:"center",justifyContent:"space-between"},className:"jsx-ff161281ed666c63",children:[(0,t.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[(0,t.jsx)(c(),{href:"/",style:{color:"#00d4ff",textDecoration:"none"},children:(0,t.jsx)("h1",{style:{fontSize:"2rem",color:"#00d4ff",fontWeight:"300",margin:0,textShadow:"0 0 10px rgba(0, 212, 255, 0.5)"},className:"jsx-ff161281ed666c63",children:"\uD83C\uDF93 Teacher Dashboard"})}),(0,t.jsx)("p",{style:{color:"#b0b7c3",margin:"5px 0 0 0",fontSize:"0.9rem"},className:"jsx-ff161281ed666c63",children:"Class Confirmation Center"})]}),(0,t.jsx)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},className:"jsx-ff161281ed666c63",children:(0,t.jsxs)("div",{style:{padding:"8px 16px",backgroundColor:"rgba(255, 149, 0, 0.2)",border:"1px solid #ff9500",borderRadius:"20px",fontSize:"0.9rem",color:"#ff9500"},className:"jsx-ff161281ed666c63",children:[r.length," Pending Confirmations"]})})]})}),(0,t.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"40px 20px"},className:"jsx-ff161281ed666c63",children:[r.length>0&&(0,t.jsxs)("div",{style:{backgroundColor:"rgba(255, 149, 0, 0.1)",border:"1px solid #ff9500",borderRadius:"12px",padding:"30px",marginBottom:"40px"},className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("h2",{style:{color:"#ff9500",marginBottom:"20px",fontSize:"1.5rem"},className:"jsx-ff161281ed666c63",children:"⏰ Classes Awaiting Confirmation"}),(0,t.jsx)("p",{style:{color:"#b0b7c3",marginBottom:"24px",fontSize:"0.95rem"},className:"jsx-ff161281ed666c63",children:"Please confirm that you gave these classes by checking the box. Add optional notes if needed."}),(0,t.jsx)("div",{style:{display:"grid",gap:"20px"},className:"jsx-ff161281ed666c63",children:r.map(e=>(0,t.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 149, 0, 0.5)",borderRadius:"12px",padding:"24px"},className:"jsx-ff161281ed666c63",children:(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"20px",alignItems:"flex-start"},className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("div",{style:{paddingTop:"4px"},className:"jsx-ff161281ed666c63",children:(0,t.jsx)("button",{onClick:()=>u(e.id),disabled:x===e.id,style:{width:"32px",height:"32px",borderRadius:"6px",border:"2px solid #00d4ff",backgroundColor:"transparent",color:"#00d4ff",fontSize:"18px",cursor:x===e.id?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:x===e.id?.5:1},className:"jsx-ff161281ed666c63",children:x===e.id?"⏳":"✓"})}),(0,t.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("h3",{style:{color:"#00d4ff",fontSize:"1.2rem",margin:"0 0 12px 0",fontWeight:"500"},className:"jsx-ff161281ed666c63",children:e.title}),(0,t.jsxs)("div",{style:{display:"grid",gap:"8px",marginBottom:"16px"},className:"jsx-ff161281ed666c63",children:[(0,t.jsxs)("p",{style:{color:"#e0e6ed",margin:0,fontSize:"0.95rem"},className:"jsx-ff161281ed666c63",children:["\uD83D\uDC64 Student: ",e.student.name]}),(0,t.jsxs)("p",{style:{color:"#b0b7c3",margin:0,fontSize:"0.9rem"},className:"jsx-ff161281ed666c63",children:["\uD83D\uDCC5 ",new Date(e.startTime).toLocaleString()," - ",new Date(e.endTime).toLocaleTimeString()]}),e.description&&(0,t.jsx)("p",{style:{color:"#b0b7c3",margin:0,fontSize:"0.85rem",fontStyle:"italic"},className:"jsx-ff161281ed666c63",children:e.description})]}),(0,t.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("label",{style:{color:"#b0b7c3",fontSize:"0.9rem",display:"block",marginBottom:"8px"},className:"jsx-ff161281ed666c63",children:"Optional Notes (will notify moderators):"}),(0,t.jsx)("textarea",{value:p[e.id]||"",onChange:s=>j(e.id,s.target.value),placeholder:"Add any notes about this class session...",rows:3,style:{width:"100%",padding:"12px",backgroundColor:"rgba(0, 0, 0, 0.5)",border:"1px solid #666",borderRadius:"8px",color:"#e0e6ed",fontSize:"0.9rem",resize:"vertical",outline:"none"},className:"jsx-ff161281ed666c63"})]})]}),(0,t.jsx)("div",{className:"jsx-ff161281ed666c63",children:(0,t.jsx)("button",{onClick:()=>u(e.id),disabled:x===e.id,style:{padding:"12px 20px",background:x===e.id?"rgba(0, 212, 255, 0.3)":"linear-gradient(45deg, #00d4ff, #0099cc)",color:"white",border:"none",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",cursor:x===e.id?"not-allowed":"pointer",textTransform:"uppercase",letterSpacing:"0.5px",minWidth:"120px"},className:"jsx-ff161281ed666c63",children:x===e.id?"Confirming...":"Confirm Class"})})]})},e.id))})]}),(0,t.jsxs)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.4)",border:"1px solid #00d4ff",borderRadius:"12px",padding:"30px"},className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("h2",{style:{color:"#00d4ff",marginBottom:"20px",fontSize:"1.5rem"},className:"jsx-ff161281ed666c63",children:"\uD83D\uDCDA Recent Sessions"}),(0,t.jsx)("div",{style:{display:"grid",gap:"16px"},className:"jsx-ff161281ed666c63",children:(e||[]).slice(0,10).map(e=>(0,t.jsxs)("div",{style:{backgroundColor:"rgba(0, 212, 255, 0.05)",border:"1px solid ".concat(b(e.status,e.teacherConfirmed)),borderRadius:"8px",padding:"20px",display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",gap:"16px"},className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem"},className:"jsx-ff161281ed666c63",children:y(e.status,e.teacherConfirmed)}),(0,t.jsxs)("div",{className:"jsx-ff161281ed666c63",children:[(0,t.jsx)("h4",{style:{color:"#00d4ff",margin:"0 0 8px 0",fontSize:"1.1rem"},className:"jsx-ff161281ed666c63",children:e.title}),(0,t.jsxs)("p",{style:{color:"#e0e6ed",margin:"4px 0",fontSize:"0.9rem"},className:"jsx-ff161281ed666c63",children:["Student: ",e.student.name]}),(0,t.jsx)("p",{style:{color:"#b0b7c3",margin:"4px 0",fontSize:"0.85rem"},className:"jsx-ff161281ed666c63",children:new Date(e.startTime).toLocaleString()}),e.teacherNotes&&(0,t.jsxs)("p",{style:{color:"#888",margin:"8px 0 0 0",fontSize:"0.8rem",fontStyle:"italic"},className:"jsx-ff161281ed666c63",children:["Notes: ",e.teacherNotes]})]}),(0,t.jsx)("span",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",backgroundColor:"".concat(b(e.status,e.teacherConfirmed),"20"),color:b(e.status,e.teacherConfirmed),border:"1px solid ".concat(b(e.status,e.teacherConfirmed))},className:"jsx-ff161281ed666c63",children:e.teacherConfirmed?"CONFIRMED":e.status})]},e.id))}),0===(e||[]).length&&(0,t.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#b0b7c3"},className:"jsx-ff161281ed666c63",children:(0,t.jsx)("p",{className:"jsx-ff161281ed666c63",children:"No sessions found. Check back later for scheduled classes."})})]})]})]}),(0,t.jsx)(o(),{id:"ff161281ed666c63",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})}}},function(e){e.O(0,[894,118,888,774,179],function(){return e(e.s=6056)}),_N_E=e.O()}]);